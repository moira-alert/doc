teams:
  get:
    summary: "Get all teams"
    operationId: GetTeams
    tags:
      - team
    responses:
      $ref: ./responses.yml#/getTeams

  post:
    summary: "Create new team"
    operationId: CreateTeam
    tags:
      - team
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: ../shared/schemas/Team.yml#/Team
    responses:
      $ref: ./responses.yml#/createTeam

team:
  get:
    summary: "Get existing team"
    operationId: GetTeam
    tags:
      - team
    parameters:
      - $ref: "../shared/parameters/_index.yml#/teamID"
    responses:
      $ref: responses.yml#/getTeam
  patch:
    summary: "Update existing team"
    operationId: UpdateTeam
    tags:
      - team
    parameters:
      - $ref: ../shared/parameters/_index.yml#/teamID
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: ../shared/schemas/Team.yml#/Team
    responses:
      $ref: ./responses.yml#/updateTeam

teamUsers:
  get:
    summary: "Get team users"
    operationId: GetTeamUsers
    tags:
      - team
    parameters:
      - $ref: "../shared/parameters/_index.yml#/teamID"
    responses:
      $ref: responses.yml#/getTeamUsers
  post:
    summary: "Add users to a team"
    operationId: AddTeamUsers
    tags:
      - team
    parameters:
      - $ref: ../shared/parameters/_index.yml#/teamID
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: ../shared/schemas/Team.yml#/TeamMembers
    responses:
    #Hardcode updateTeam responce, because I don't know why ref doesn't work in this place.
    #Use '$ref: /responses.yml#/updateTeam' leads to error: attribute paths.'/team/{teamID}/users'(post).responses.$ref is not of type `object`
      200:
        description: "Team updated successfully"
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: "Id of updated team"
                  format: uuid
                  example: "d5d98eb3-ee18-4f75-9364-244f67e23b54"
      400:
        $ref: "../shared/responses/_index.yml#/BadRequest"
      404:
        $ref: "../shared/responses/_index.yml#/NotFound"
      500:
        $ref: "../shared/responses/_index.yml#/ServerError"

teamUser:
  delete:
    summary: "Remove user from a team"
    operationId: DeleteTeamUser
    tags:
      - team
    parameters:
      - $ref: ../shared/parameters/_index.yml#/teamID
      - $ref: ../shared/parameters/_index.yml#/teamUserID
    responses:
    #Hardcode updateTeam responce, because I don't know why ref doesn't work in this place.
    #Use '$ref: /responses.yml#/updateTeam' leads to error:/team/{teamID}/users/{teamUserID}'(delete) is not of type `object`
      200:
        description: "Team updated successfully"
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: "Id of updated team"
                  format: uuid
                  example: "d5d98eb3-ee18-4f75-9364-244f67e23b54"
      400:
        $ref: "../shared/responses/_index.yml#/BadRequest"
      404:
        $ref: "../shared/responses/_index.yml#/NotFound"
      500:
        $ref: "../shared/responses/_index.yml#/ServerError"
