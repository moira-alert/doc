Trigger:
  desc:
    type: string
    description: Trigger description
    example: Dice roll trigger
  error_value:
    type: number
    description: Target value at which error will be fired
    example: 7
  expression:
    type: string
    description: Expression that will be evaluated
    example: "t1 > 6 ? ERROR : (t1 > 4)? WARN : OK"
  id:
    type: string
  is_remote:
    type: boolean
    description: Which storage to use local or remote
    example: false
  mute_new_metrics:
    type: boolean
    example: true
  name:
    type: string
    description: Trigger name
    example: Dice Roll
  patterns:
    items:
      type: string
    type: array
    example:
      - local.dice.roll
    description: Array of possible patterns to check values in simple mode
  sched:
    $schema: "http://json-schema.org/draft-04/schema#"
    $ref: "#/ScheduleData"
  tags:
    items:
      type: string
    type: array
    description: Array of tags associated with this trigger
    example:
      - test
  targets:
    items:
      type: string
    type: array
    description: Array of targets associated with this trigger
  throttling:
    type: integer
    description: Quantity of events before throttling will be enabled
  trigger_type:
    type: string
    enum: ["rising", "falling", "expression"]
  ttl:
    type: integer
  ttl_state:
    type: string
  warn_value:
    type: number
    description: Target value at which warning will be fired
    example: 5
  alone_metrics:
    type: array
    items:
      type: string
    description: An array of targets which have only one metric
    example:
      - t1
      - t2

ScheduleData:
  properties:
    days:
      items:
        $schema: "http://json-schema.org/draft-04/schema#"
        $ref: "#/ScheduleDataDay"
      type: array
    endOffset:
      type: integer
    startOffset:
      type: integer
    tzOffset:
      type: integer
  additionalProperties: false
  type: object
ScheduleDataDay:
  properties:
    enabled:
      type: boolean
    name:
      type: string
  additionalProperties: false
  type: object
MetricValue:
  properties:
    step:
      type: integer
    ts:
      type: integer
    value:
      type: number
  additionalProperties: false
  type: object
